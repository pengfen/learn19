# HTTP 协议接口测试

## 不同视角的接口
* 开发眼中的接口  模块与模块之间的对接方式定义
* 测试眼中的接口  可以独立部署成服务的协议接口

## 常见接口协议
* HTTP   超文本传输协议
* HTTPS  安全超文本传输协议
* FTP    文件传输协议
* TCP    网络控制协议
* IP     互联网协议
* UDP    用户数据协议

## HTTP协议响应码
* 1XX 信息响应类　表示接收到请求并且继续处理
* 2XX 处理成功响应类　表示动作被成功接收　理解和接受
* 3XX 重定向响应类　为了完成指定的动作　必须接受进一步处理
* 4XX 客户端错误　客户请求包含语法错误或者是不能正确执行
*    404 我们请求的资源不存在
* 5XX 服务端错误　服务器不能正确执行一个正确的请求

## http协议请求响应模型 (一次请求的生命周期或简单的软件分层)
* 场景 登录
* 客户端发起请求到api接口层
* ->用户在客户端填写用户名和密码　点击登录　发起请求
* api接收到客户端发起的用户请求
* -> api对业务逻辑进行验证
*    -> 验证用户名和密码是否合法 (比如　用户名要求必须为真实手机号码 如果验证失败　即用户名不合法　那么需要给客户端返回响应码)
* api会将用户输入的数据发给db层
* ->Create Read Update Delete
* ->数据库查询成功则返回１　失败则返回0
* DB会将返回的查询数据的条目数给api
* api返回成功或失败的状态码给客户端
* 客户端将返回信息提示给用户

## 分层
* 客户端 功能测试　性能测试　自动化测试
* 接口层 接口测试　功能测试　性能测试　自动化测试
* 数据库层 可以将开发人员使用到的sql语句单独拿出来进行性能测试　

## 请求方式
* get请求
* url: 域名?username=ricky&password=123456
* post请求
* url: 域名
* 请求体
```
{
	[
	    "username":"ricky",
	    "password":"123456"
	]
}
```
* 1. OPTIONS 返回服务器针对特定资源所支持的HTTP请求方法　也可以利用向web服务器发送`*`的请求来测试服务器的功能性
* 2. HEAD向服务器索与GET请求相一致的响应　只不过响应体将不会被返回　这一方法可以再不必传输整个响应内容的情况下　就可以获取包含在响应消息头中的元信息
* 3. GET向特定的资源发出请求　注意GET方法不应当被用于产生副作用的操作中　如在web application中 其中一个原因是GET可能会被网络蜘蛛等随意访问
* 4. POST 向指定资源提交数据进行处理请求 (例如提交表单元或者上传文件) 数据被包含在请求体中 POST请求可能会导致新的资源建立或已有资源的修改
* 5. PUT 向指定资源位置上传其最新内容
* 6. DELETE 请求服务器删除Request-URL所标识的资源
* 7. TRACE 回显服务器收到的请求　主要用于测试或诊断
* 8. CONNECT HTTP/1.1协议中预留给能够将连接改为管道方式的代理服务器
* 注意
* -> 方法名称是区分大小写的 当某个请求所针对的资源不支持对应的请求方法的时候 服务器应当返回状态码405 (Method Not Allowed) 当服务器不认识或者不支持对应的请求方法时 应返回状态码501(Not Implemented)
* -> HTTP服务器至少应该实现GET和HEAD/POST方法　其他方法都是可选的　此除除上述方法

## JMeter 应用
* BS架构应用性能
* HTTP协议接口功能与性能
* FTP协议接口功能与性能
* Mysql数据库性能
* MongoDB数据库性能
* 支持自定义java组件开发
